(this.webpackJsonpklipping=this.webpackJsonpklipping||[]).push([[0],{41:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);n(5);var i=n(0),r=n.n(i),a=n(14),c=n.n(a),o=(n(41),n(7)),s=n(11),u=n(4),d=n(3),l=n(9),b=Object(l.c)({name:"mainMenuState",initialState:{value:"Cutting"},reducers:{setState:function(e,t){e.value=t.payload}}}),p=b.actions.setState,f=function(e){return e.mainMenuState.value},j=b.reducer,g=n(1),O=function(e){var t=e.iconName,n=e.stateName,i=Object(d.b)(),r=Object(d.c)(f),a=Object(o.a)(Object(o.a)({backgroundColor:"snow",borderRadius:"10px",fontSize:"large",width:"100%",height:"150px",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)",cursor:"pointer",transitionDuration:"0.3s",transitionProperty:"transform"},r===n&&{backgroundColor:"lightblue"}),{},{"&:hover":{transform:"scale(1.1)"},"&:active":{transform:"scale(0.9)"},display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"10px"});return Object(g.b)("div",{css:a,title:n,onClick:function(){i(p(n))}},Object(g.b)(s.a,{icon:t,size:"3x"}),Object(g.b)("div",null,n))},m=function(){return Object(g.b)("div",{style:{backgroundColor:"snow",borderRadius:"10px",width:"150px",display:"flex",flexDirection:"column",alignItems:"center",gap:"20px"},title:"MainMenu"},Object(g.b)(O,{iconName:u.d,stateName:"Cutting"}),Object(g.b)(O,{iconName:u.e,stateName:"Metadata"}),Object(g.b)(O,{iconName:u.g,stateName:"Thumbnail"}),Object(g.b)(O,{iconName:u.b,stateName:"Start Workflow"}))},x=n(12),v=n(19),y=Object(l.c)({name:"videoState",initialState:{isPlaying:!1,currentlyAt:0,duration:0,segments:[{id:Object(l.d)(),startTime:0,endTime:64.733,state:"alive"}]},reducers:{setIsPlaying:function(e,t){e.isPlaying=t.payload},setCurrentlyAt:function(e,t){console.log("Action.payload: "+t.payload),e.currentlyAt=t.payload},setDuration:function(e,t){e.duration=t.payload},addSegment:function(e,t){e.segments.push(t.payload)},cut:function(e){var t=e.segments.findIndex((function(t){return t.startTime<=e.currentlyAt&&t.endTime>=e.currentlyAt}));if(e.segments[t].startTime===e.currentlyAt||e.segments[t].endTime===e.currentlyAt)return e;var n={id:Object(l.d)(),startTime:e.segments[t].startTime,endTime:e.currentlyAt,state:"dead"},i={id:Object(l.d)(),startTime:e.currentlyAt,endTime:e.segments[t].endTime,state:"dead"};e.segments.splice(t,1,n,i)}}}),h=y.actions,w=h.setIsPlaying,C=h.setCurrentlyAt,S=h.setDuration,k=(h.addSegment,h.cut),T=function(e){return e.videoState.isPlaying},R=function(e){return e.videoState.currentlyAt},D=function(e){return e.videoState.segments},N=y.reducer,A=n(15),I=n.n(A),L=n(18),P=n(35);function U(e){return M.apply(this,arguments)}function M(){return(M=Object(L.a)(I.a.mark((function e(t){var n,i,r,a,c,s,u,d,l,b=arguments;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b.length>1&&void 0!==b[1]?b[1]:{},i=n.body,r=Object(P.a)(n,["body"]),a={"Content-Type":"application/json"},c=btoa(unescape(encodeURIComponent("admin:opencast"))),s={Authorization:"Basic ".concat(c)},u=Object(o.a)(Object(o.a)({method:i?"POST":"GET"},r),{},{headers:Object(o.a)(Object(o.a)(Object(o.a)({},a),r.headers),s)}),i&&(u.body=JSON.stringify(i)),e.prev=6,e.next=9,window.fetch(t,u);case 9:return l=e.sent,e.next=12,l.json();case 12:if(d=e.sent,!l.ok){e.next=15;break}return e.abrupt("return",d);case 15:throw new Error(l.statusText);case 18:return e.prev=18,e.t0=e.catch(6),e.abrupt("return",Promise.reject(e.t0.message?e.t0.message:d));case 21:case"end":return e.stop()}}),e,null,[[6,18]])})))).apply(this,arguments)}U.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return U(e,Object(o.a)(Object(o.a)({},t),{},{method:"GET"}))},U.post=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return U(e,Object(o.a)(Object(o.a)({},n),{},{body:t}))};var z=Object(l.b)("videoURL/fetchVideoURL",Object(L.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.get("https://legacy.opencast.org/admin-ng/tools/ID-dual-stream-demo/editor.json");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),E=Object(l.c)({name:"videoURL",initialState:{videoURLs:[],videoCount:0,duration:0,status:"idle",error:null},reducers:{},extraReducers:function(e){e.addCase(z.pending,(function(e,t){e.status="loading"})),e.addCase(z.fulfilled,(function(e,t){e.status="success",e.videoURLs=t.payload.previews.reduce((function(e,t){return e.push(t.uri),e}),[]),e.videoCount=t.payload.previews.length,e.duration=t.payload.duration/1e3})),e.addCase(z.rejected,(function(e,t){e.status="failed",e.error=t.error.message}))}}),F=function(e){return e.videoURL.videoURLs},V=function(e){return e.videoURL.videoCount},W=function(e){return e.videoURL.duration},B=E.reducer,J=n(32),G=n.n(J),H=function(e){var t=e.url,n=e.isMuted,r=Object(d.b)(),a=Object(d.c)(T),c=Object(d.c)(R),o=Object(d.c)(W),s=Object(i.useState)(!1),u=Object(v.a)(s,2),l=u[0],b=u[1],p=Object(i.useRef)(null);return Object(i.useEffect)((function(){!a&&p.current&&l&&(console.log("useEffect seekTO CurrentlyAt: "+c),p.current.seekTo(c,"seconds"))})),Object(g.b)(G.a,{url:t,ref:p,width:"100%",height:"auto",playing:a,muted:n,onProgress:function(e){r(C(e.playedSeconds))},progressInterval:100,onDuration:function(e){r(S(e))},onReady:function(){b(!0)},onEnded:function(){r(w(!1)),r(C(o))}})},q=function(){var e=Object(d.b)(),t=Object(d.c)(T),n=Object(d.c)(R),i={display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",padding:"10px"};return Object(g.b)("div",{css:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",padding:"10px"},title:"Video Controls"},Object(g.b)("div",{css:i,title:"Video Controls Top Row"},Object(g.b)(s.a,{css:{cursor:"pointer",transitionDuration:"0.3s",transitionProperty:"transform","&:hover":{transform:"scale(1.1)"},"&:active":{transform:"scale(0.9)"}},icon:t?u.f:u.h,size:"5x",onClick:function(){return e(w(!t))}})),Object(g.b)("div",{css:i,title:"Video Controls Bottom Row"},Object(g.b)("div",null,new Date(1e3*(n||0)).toISOString().substr(11,12))))},Y=function(){var e,t=Object(d.b)(),n=Object(d.c)(F),r=Object(d.c)(V),a=Object(d.c)((function(e){return e.videoURL.status})),c=Object(d.c)((function(e){return e.videoURL.error}));Object(i.useEffect)((function(){"idle"===a&&t(z())}),[a,t]),"loading"===a?e=Object(g.b)("div",{className:"loader"},"Loading..."):"success"===a?e="":"failed"===a&&(e=Object(g.b)("div",null,c));for(var o=[],s=0;s<r;s++)o.push(Object(g.b)(H,{key:s,url:n[s],isMuted:0===s}));return Object(g.b)("div",{css:{backgroundColor:"snow",borderRadius:"15px",display:"flex",width:"auto",flex:"7",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"10px",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)"},title:"Video Area"},e,Object(g.b)("div",{css:{backgroundColor:"black",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%"},title:"Video Player Area"},o),Object(g.b)(q,null))},_=n(33),K=n.n(_),Q=n(34),X=n.p+"static/media/placeholder_waveform.d23b087b.png";var Z={name:"190c1k3",styles:"height:230px;"},$={name:"blfv16",styles:"background-color:rgba(255, 255, 255, 1);border-radius:10px;height:50px;display:flex;justify-content:center;align-items:center;box-shadow:0 0 10px rgba(0, 0, 0, 0.3);cursor:pointer;transition-duration:0.3s;transition-property:transform;&:hover{transform:scale(1.1);}&:active{transform:scale(0.9);}"},ee={name:"2q5poe",styles:"transform:scaleY(1.5) rotate(90deg);padding:5px;"},te=function(e){var t=e.timelineWidth,n=Object(d.b)(),r=Object(d.c)(T),a=Object(d.c)(R),c=Object(d.c)(W),o=Object(i.useState)({x:0,y:0}),l=Object(v.a)(o,2),b=l[0],p=l[1],f=Object(i.useRef)(0);Object(i.useEffect)((function(){a!==f.current&&(j(),f.current=a)}));var j=function(){var e=b.y;p({x:a/c*t,y:e})},O=Object(g.a)({backgroundColor:"rgba(255, 0, 0, 1)",height:"250px",width:"1px",position:"absolute",zIndex:1,boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)",display:"flex",justifyContent:"center",alignItems:"center"},""),m=$,x=ee;return Object(g.b)(K.a,{onStop:function(e,i){var r=i.x,a=i.y;p({x:r,y:a}),n(C(r/t*c))},axis:"x",bounds:"parent",position:b,disabled:r},Object(g.b)("div",{css:O,title:"Scrubber"},Object(g.b)("div",{css:m,title:"dragHandle"},Object(g.b)(s.a,{css:x,icon:u.a,size:"1x"}))))},ne=function(e){e.timelineWidth;var t=Object(d.c)(D),n=Object(d.c)(W),i=Object(g.a)({display:"flex",flexDirection:"row",paddingTop:"10px"},"");return Object(g.b)("div",{css:i,title:"Segments"},t.map((function(e){return Object(g.b)("div",{key:e.id,title:"Segment",css:Object(x.a)({backgroundColor:"alive"===e.state?"blue":"pink",borderRadius:"25px",width:(e.endTime-e.startTime)/n*100+"%",height:"230px",opacity:"0.4"},"")})})))},ie=function(){var e=Object(Q.a)(),t=e.ref,n=e.width,i=void 0===n?1:n,r=Object(g.a)({position:"relative",borderRadius:"10px",backgroundColor:"snow",height:"250px",width:"100%",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)"},"");return Object(g.b)("div",{ref:t,css:r,title:"Timeline"},Object(g.b)(te,{timelineWidth:i}),Object(g.b)("div",{css:Z},Object(g.b)("img",{alt:"waveform2",src:X,style:{position:"absolute",height:"230px",width:"100%",top:"10px"}}),Object(g.b)(ne,{timelineWidth:i})))},re=function(e){var t=e.iconName,n=e.actionName,i=e.action,r=Object(d.b)();return Object(g.b)("div",{css:{backgroundColor:"snow",borderRadius:"10px",fontSize:"large",width:"125px",height:"125px",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)",cursor:"pointer",justifyContent:"center",alignContent:"center",transitionDuration:"0.3s",transitionProperty:"transform","&:hover":{transform:"scale(1.1)"},"&:active":{transform:"scale(0.9)"},display:"flex",flexDirection:"column",alignItems:"center",gap:"10px",textAlign:"center"},title:n,onClick:function(){return r(i())}},Object(g.b)(s.a,{icon:t,size:"3x"}),Object(g.b)("div",null,n))},ae=function(){var e=Object(g.a)({backgroundColor:"snow",borderRadius:"15px",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)",flex:"3",display:"flex",flexDirection:"column",padding:"20px"},""),t=Object(g.a)({backgroundColor:"snow",flex:"3",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-around",alignContent:"top",gap:"30px"},"");return Object(g.b)("div",{css:e},Object(g.b)("h1",{css:{textAlign:"left"}},"Cutting Tools"),Object(g.b)("div",{css:t,title:"CuttingActions"},Object(g.b)(re,{iconName:u.b,actionName:"Cut",action:k}),Object(g.b)(re,{iconName:u.c,actionName:"Mark as Hidden",action:k}),Object(g.b)(re,{iconName:u.j,actionName:"Mark as Deleted",action:k}),Object(g.b)(re,{iconName:u.b,actionName:"Some other action",action:k})))},ce=function(){var e=Object(d.c)(f);return Object(g.b)("div",{css:{flex:"1",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"20px"},title:"MainMenuContext"},function(e){switch(e){case"Cutting":return Object(g.b)(r.a.Fragment,null,Object(g.b)("div",{css:Object(x.a)({width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-around",gap:"20px"},"")},Object(g.b)(Y,null),Object(g.b)(ae,null)),Object(g.b)(ie,null));default:return Object(g.b)(r.a.Fragment,null,Object(g.b)(s.a,{icon:u.i,size:"10x"}),"Under Construction")}}(e))},oe=function(){return Object(g.b)("div",{css:{display:"flex",flex:"1",flexDirection:"row",padding:"20px",gap:"75px"},title:"Body"},Object(g.b)(ce,null),Object(g.b)(m,null))};var se={name:"x7gdnd",styles:"background-color:snow;"};var ue=function(){return Object(g.b)("div",{css:se,className:"App"},Object(g.b)(oe,null))},de=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),i(e),r(e),a(e),c(e)}))},le=Object(l.a)({reducer:{mainMenuState:j,videoState:N,videoURL:B}});c.a.render(Object(g.b)(r.a.StrictMode,null,Object(g.b)(d.a,{store:le},Object(g.b)(ue,null))),document.getElementById("root")),de()}},[[72,1,2]]]);
//# sourceMappingURL=main.e1028526.chunk.js.map